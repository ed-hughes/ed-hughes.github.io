<html>

  <script>
    window.addEventListener(
      "message",
      (event) => {
        if(event.data.type === "prism_message"){
          const prettyValue = JSON.stringify(event.data, null, 2)
          document.getElementById("output").innerHTML = prettyValue
          const customEvent = new CustomEvent("prism_message", { detail: { ...event.data.data } })
          console.log({customEvent});
        }
      },
      false,
    );
  </script>
    <h1>Parent embed page</h1>
   <script src='https://demo.jotform.com/s/umd/latest/for-embedded-agent.js'></script>
start of text <a class="btn modal-0199ba09f2f07c7eb1f19fbf10af6009ec85" style="
  text-transform: uppercase;
  font-size: 14px;
  cursor: pointer;
  padding: 12px 18px;
  font-family: inherit;
  background-color: #0075E3;
  border: 1px solid #0075E3;
  color: #FFFFFF;
  border-radius: 4px;
  text-decoration: none;
  display: inline-block;
">Chat to </a> more other text
<script>
  window.addEventListener("DOMContentLoaded", function() {
    document.querySelector('.modal-0199ba09f2f07c7eb1f19fbf10af6009ec85').addEventListener(
      'click',
      function() {
        window.AgentInitializer.initModalView({
          rootId: "JotformAgent-0199ba09f2f07c7eb1f19fbf10af6009ec85",
          formID: "0199ba09f2f07c7eb1f19fbf10af6009ec85",
          queryParams: ["skipWelcome=1"],
          domain: "https://demo.jotform.com",
          isInitialOpen: true,
          isDraggable: false,
          variant: false,
          isVoice: false
        });
      });
  });
</script>
    <script src='https://demo.jotform.com/s/umd/latest/for-form-embed-handler.js'></script>
    <script>window.jotformEmbedHandler("iframe[id='JotFormIFrame-242877028197064']", "https://demo.jotform.com/")</script>
    <pre>
      <h2>Data sent to Prism</h2>
      <code id="output">
      </code>
    </pre>
    
  </html>
