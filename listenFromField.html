<!doctype html>
<html>
  <head>
 <script src="https://cdn.jotfor.ms/s/umd/latest/for-custom-widgets.js"></script>
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="pragma" content="no-cache" />
  </head>
  <style></style>
  <body>
    <div id="reviewArea">
    </div>
    <script type="text/javascript">
      function AllMethods() {
        const listenFromFieldQid = JFCustomWidget.getWidgetSetting("listenFromFieldQid");
        // exposed functions
        this.init = init;
        this.getData = getData;

        // initialization of the widget
        function init(formData) {
          console.log("Hello world!", {formData, listenFromFieldQid});
          
           JFCustomWidget.listenFromField(listenFromFieldQid, 'change', function(value){
                        console.log({[listenFromFieldQid]: value})
          })
        }
        // get widget data
        function getData() {
         return {
           valid: true,
           value: "value"
         };
        }
      }

      // always subscribe to ready event and implement widget related code
      // inside callback function , it is the best practice while developing widgets
      JFCustomWidget.subscribe("ready", function (data) {
        var widget = new AllMethods();
        widget.init(data);

        JFCustomWidget.subscribe("submit", function () {
          JFCustomWidget.sendSubmit(widget.getData());
        });
      });
    </script>
  </body>
</html>
